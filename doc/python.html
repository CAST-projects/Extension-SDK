

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python Analyser specificities &mdash; CAST Extension SDK 1.6.17 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="CAST Extension SDK 1.6.17 documentation" href="index.html"/>
        <link rel="next" title="Dotnet Analyser specificities" href="roslyn.html"/>
        <link rel="prev" title="HTML5/Javascript Analyser specificities" href="html5.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> CAST Extension SDK
          

          
          </a>

          
            
            
              <div class="version">
                1.6.17
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="my_first_plugin.html">Tutorial : My first plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deploying plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual.html">Creating a plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyser_level.html">Running during analysis of an existing analyser</a></li>
<li class="toctree-l1"><a class="reference internal" href="application_level.html">Running code after analyzers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_exchange.html">Exchanging data between analysis level and application level</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysers_specif.html">Analysers specific events</a></li>
<li class="toctree-l1"><a class="reference internal" href="mainframe.html">Mainframe Analyser specificities</a></li>
<li class="toctree-l1"><a class="reference internal" href="html5.html">HTML5/Javascript Analyser specificities</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Python Analyser specificities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#howto">HowTo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-ast-node-types">Python ast node types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-elements">Basic elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#base-classes">Base classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statements">Statements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#definition-statements">Definition statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simple-statements">Simple statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#block-statements">Block statements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#expressions">Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-structural-nodes">Other structural nodes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#symbols">Symbols</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-tests">Writing tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#categories-and-types-for-quality-rules">Categories and types for quality rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quality-rule-scopes">Quality rule scopes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-technologies">Python technologies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roslyn.html">Dotnet Analyser specificities</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_quality_rule.html">Writing quality rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="version_compatibility.html">Features and Bugs per CAIP versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips_and_tricks.html">Tips and tricks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CAST Extension SDK</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Python Analyser specificities</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="_sources/python.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python-analyser-specificities">
<h1>Python Analyser specificities<a class="headerlink" href="#python-analyser-specificities" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This documentation applies to CAIP &gt;= 8.3.x and com.castsoftware.python &gt;= 1.4.0-beta2.</p>
</div>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="howto">
<h2>HowTo<a class="headerlink" href="#howto" title="Permalink to this headline">¶</a></h2>
<p>Create your own UA extension, then react to the &#8220;add_quality_rules&#8221; event received from Python extension.
With this event, you can send any interpreters of your choice, which will be used by the extension.
These interpreters will have &#8220;start_XXX&#8221; and/or &#8220;end_XXX&#8221; methods where XXX is the <em>ast</em> node type you are interested in.
They can also have also a &#8220;finish&#8221; method that is called after all python files have been analyzed.</p>
<p>Sample of UA extension code</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">cast.analysers.ua</span>
<span class="kn">from</span> <span class="nn">cast</span> <span class="kn">import</span> <span class="n">Event</span>
<span class="kn">from</span> <span class="nn">cast.analysers</span> <span class="kn">import</span> <span class="n">log</span>

<span class="kn">from</span> <span class="nn">interpreters</span> <span class="kn">import</span> <span class="n">Interpreter1</span><span class="p">,</span> <span class="n">Interpreter2</span>

<span class="k">class</span> <span class="nc">CustomPythonDiag</span><span class="p">(</span><span class="n">cast</span><span class="o">.</span><span class="n">analysers</span><span class="o">.</span><span class="n">ua</span><span class="o">.</span><span class="n">Extension</span><span class="p">):</span>

    <span class="nd">@Event</span><span class="p">(</span><span class="s">&#39;com.castsoftware.python&#39;</span><span class="p">,</span> <span class="s">&#39;add_quality_rules&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">add_quality_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">externalQualityRules</span><span class="p">):</span>

        <span class="c"># Add the interpreters</span>
        <span class="n">externalQualityRules</span><span class="o">.</span><span class="n">add_interpreter</span><span class="p">(</span><span class="n">Interpreter1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_plugin</span><span class="p">())</span>
        <span class="n">externalQualityRules</span><span class="o">.</span><span class="n">add_interpreter</span><span class="p">(</span><span class="n">Interpreter2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_plugin</span><span class="p">())</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Sample of a simple interpreter code</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Interpreter</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">start_MethodCall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ast</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">end_MethodCall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ast</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">start_XXX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ast</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">end_XXX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ast</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>A complete sample is available here: <a class="reference internal" href="writing_quality_rule.html#starter-kit"><em>Starter kits</em></a>.</p>
</div>
<div class="section" id="python-ast-node-types">
<h2>Python ast node types<a class="headerlink" href="#python-ast-node-types" title="Permalink to this headline">¶</a></h2>
<p>Here we present the main classes and methods that form
the API to exploit the information contained in the abstract
syntax tree (AST) of a python file.</p>
<div class="section" id="basic-elements">
<h3>Basic elements<a class="headerlink" href="#basic-elements" title="Permalink to this headline">¶</a></h3>
<p>The AST returned by the Python analyzer is composed
of nodes (Node type) and tokens (Token type). Tokens are
the most basic elements. All nodes do contain sub-items
(other sub-nodes and tokens). In some specific contexts one might
not distinguish between nodes and tokens as they are treaded
similarly.</p>
<p>All nodes inherit direcly or indirectly from <em>light_parser.Node</em>.
Some nodes might inherit from some generic intermediate
classes (<em>Statement</em>, <em>BlockStatement</em>, <em>Term</em>) used internally for
parsing purposes. The character of the node (expression vs statement)
is loosely correlated to the the name of these clases for certain
nodes. These intermediate classes do not contribute to the API.</p>
<dl class="class">
<dt id="light_parser.Token">
<em class="property">class </em><tt class="descclassname">light_parser.</tt><tt class="descname">Token</tt><big>(</big><em>text=None</em>, <em>type=None</em><big>)</big><a class="headerlink" href="#light_parser.Token" title="Permalink to this definition">¶</a></dt>
<dd><p>A token with code position.</p>
<dl class="method">
<dt id="Token.get_begin_line">
<tt class="descname">get_begin_line</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_begin_line" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node begin line</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Token.get_begin_column">
<tt class="descname">get_begin_column</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_begin_column" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node begin column</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Token.get_end_line">
<tt class="descname">get_end_line</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_end_line" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node end line</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Token.get_end_column">
<tt class="descname">get_end_column</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_end_column" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node end column</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Token.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the name of the token type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Token.get_children">
<tt class="descname">get_children</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenient method to comply with &#8216;light_parser.Node&#8217; interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">empty list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Token.get_sub_nodes">
<tt class="descname">get_sub_nodes</tt><big>(</big><big>)</big><a class="headerlink" href="#Token.get_sub_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenient method to comply with &#8216;light_parser.Node&#8217; interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">empty list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">__eq__(self, other):</tt></dt>
<dd><p>Equality.</p>
<p>Can compare to text directly. (case insensitive).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="light_parser.Node">
<em class="property">class </em><tt class="descclassname">light_parser.</tt><tt class="descname">Node</tt><a class="headerlink" href="#light_parser.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>An AST node</p>
<blockquote>
<div><dl class="method">
<dt id="Node.get_begin_line">
<tt class="descname">get_begin_line</tt><big>(</big><big>)</big><a class="headerlink" href="#Node.get_begin_line" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node begin line</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Node.get_begin_column">
<tt class="descname">get_begin_column</tt><big>(</big><big>)</big><a class="headerlink" href="#Node.get_begin_column" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node begin column</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Node.get_end_line">
<tt class="descname">get_end_line</tt><big>(</big><big>)</big><a class="headerlink" href="#Node.get_end_line" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node end line</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Node.get_end_column">
<tt class="descname">get_end_column</tt><big>(</big><big>)</big><a class="headerlink" href="#Node.get_end_column" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ast node end column</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Node.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="headerlink" href="#Node.get_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the name of the node</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</div></blockquote>
<dl class="method">
<dt id="light_parser.Node.get_children">
<tt class="descname">get_children</tt><big>(</big><big>)</big><a class="headerlink" href="#light_parser.Node.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator on tokens and children that skips whitespaces and comments</p>
</dd></dl>

<dl class="method">
<dt id="light_parser.Node.get_sub_nodes">
<tt class="descname">get_sub_nodes</tt><big>(</big><big>)</big><a class="headerlink" href="#light_parser.Node.get_sub_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sub AST nodes</p>
</dd></dl>

<dl class="method">
<dt id="light_parser.Node.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>depth=0</em><big>)</big><a class="headerlink" href="#light_parser.Node.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print as a tree.</p>
</dd></dl>

</dd></dl>

<p>The following intermediate classes inherit from Node, but
do not contribute to the API.</p>
<dl class="class">
<dt id="light_parser.Statement">
<em class="property">class </em><tt class="descclassname">light_parser.</tt><tt class="descname">Statement</tt><a class="headerlink" href="#light_parser.Statement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="light_parser.BlockStatement">
<em class="property">class </em><tt class="descclassname">light_parser.</tt><tt class="descname">BlockStatement</tt><a class="headerlink" href="#light_parser.BlockStatement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="light_parser.Term">
<em class="property">class </em><tt class="descclassname">light_parser.</tt><tt class="descname">Term</tt><a class="headerlink" href="#light_parser.Term" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="base-classes">
<h3>Base classes<a class="headerlink" href="#base-classes" title="Permalink to this headline">¶</a></h3>
<p>The classes below conveniently factorize common code
among certain type of nodes. These are not explicit
nodes of the AST.</p>
</div>
<div class="section" id="statements">
<h3>Statements<a class="headerlink" href="#statements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="definition-statements">
<h4>Definition statements<a class="headerlink" href="#definition-statements" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="simple-statements">
<h4>Simple statements<a class="headerlink" href="#simple-statements" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="block-statements">
<h4>Block statements<a class="headerlink" href="#block-statements" title="Permalink to this headline">¶</a></h4>
<p>Statements containing other statements.</p>
</div>
</div>
<div class="section" id="expressions">
<h3>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="other-structural-nodes">
<h3>Other structural nodes<a class="headerlink" href="#other-structural-nodes" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="symbols">
<h2>Symbols<a class="headerlink" href="#symbols" title="Permalink to this headline">¶</a></h2>
<p>Symbols closely represent the structure of metamodel objects,
among other functionalities. They are also used for resolution
purposes for certain nodes.</p>
<dl class="class">
<dt id="symbols.Function">
<em class="property">class </em><tt class="descclassname">symbols.</tt><tt class="descname">Function</tt><a class="headerlink" href="#symbols.Function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">symbols.FunctionOrProcedure</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">symbols.SchemaFunctionOrProcedure</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">symbols.ResolutionScope</span></tt></p>
<dl class="attribute">
<dt id="symbols.Function.type_name">
<tt class="descname">type_name</tt><em class="property"> = 'SQLScriptFunction'</em><a class="headerlink" href="#symbols.Function.type_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="writing-tests">
<h2>Writing tests<a class="headerlink" href="#writing-tests" title="Permalink to this headline">¶</a></h2>
<p>Sample of a test</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">cast.analysers.test</span>
<span class="kn">import</span> <span class="nn">cast.analysers.ua</span>

<span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_ok1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">analysis</span> <span class="o">=</span> <span class="n">cast</span><span class="o">.</span><span class="n">analysers</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">UATestAnalysis</span><span class="p">(</span><span class="s">&#39;PYTHON&#39;</span><span class="p">)</span>  <span class="c"># set Python language</span>
        <span class="n">analysis</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">)</span>
        <span class="n">analysis</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="s">r&#39;C:\ProgramData\CAST\CAST\Extensions\com.castsoftware.python.1.4.0-beta2&#39;</span><span class="p">)</span>
        <span class="n">analysis</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

        <span class="n">f</span> <span class="o">=</span> <span class="n">analysis</span><span class="o">.</span><span class="n">get_object_by_name</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;CAST_Python_Function&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s">&#39;CAST_Python_Rule.AvoidUsingInvalidObjectsInAll&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You need to add a dependency by absolute path or relative to the folder containing com.castsoftware.python, for example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">analysis</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="s">r&#39;C:\ProgramData\CAST\CAST\Extensions\com.castsoftware.python.1.4.0-beta2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">For that you need to have downloaded the extension through CAST ExtensionDowloader:
see <a class="reference external" href="https://doc.castsoftware.com/display/EXTEND/CAST+Extension+Downloader">https://doc.castsoftware.com/display/EXTEND/CAST+Extension+Downloader</a></p>
</div>
</div>
<div class="section" id="categories-and-types-for-quality-rules">
<span id="python-categories"></span><h2>Categories and types for quality rules<a class="headerlink" href="#categories-and-types-for-quality-rules" title="Permalink to this headline">¶</a></h2>
<p>For adding a quality rule use the following categories</p>
<ul class="simple">
<li>Category <cite>CAST_Python_Rule</cite> (for artifacts), <cite>CAST_Python_ClassRule</cite> (only for classes).</li>
</ul>
</div>
<div class="section" id="quality-rule-scopes">
<span id="python-scopes"></span><h2>Quality rule scopes<a class="headerlink" href="#quality-rule-scopes" title="Permalink to this headline">¶</a></h2>
<p>Available basic quality rule scopes are :</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1021000</td>
<td>Callable Python artifacts (includes functions methods and modules)</td>
</tr>
<tr class="row-even"><td>1021008</td>
<td>Python Functions (includes functions and methods)</td>
</tr>
<tr class="row-odd"><td>1021011</td>
<td>Python Classes</td>
</tr>
<tr class="row-even"><td>1021012</td>
<td>Python Modules</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="python-technologies">
<h2>Python technologies<a class="headerlink" href="#python-technologies" title="Permalink to this headline">¶</a></h2>
<p>Values for technology to be used in IMPLTechnologies.xml for filter value</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Python</td>
<td>1021000</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="roslyn.html" class="btn btn-neutral float-right" title="Dotnet Analyser specificities" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="html5.html" class="btn btn-neutral" title="HTML5/Javascript Analyser specificities" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, CAST.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.6.17',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>